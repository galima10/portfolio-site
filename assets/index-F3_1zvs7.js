import{e,r as t,j as n}from"./index-CLj8ONes.js";const r="_timeline_xymca_2",c="_timelineSvg_xymca_9";function s(){const s=t.useRef(null),{paths:u}=function(n){const{isMobile:r,updateIsMobile:c}=e(),[s,u]=t.useState({}),[l,i]=t.useState([]),[a,o]=t.useState(0),d=t.useRef(!1),f=t.useRef(null);function x(){const e=document.querySelectorAll(".timeline-point");if(e.forEach((e,t)=>{e.setAttribute("data-timeline-index",t.toString()),u(n=>({...n,[t]:e}))}),!n||0===Object.keys(e).length)return;const t=document.querySelector("main");if(!t)return;const r=Object.values(e).map(e=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:n.left+n.width/2-r.left,y:n.top+n.height/2-r.top+t.scrollTop}}),c=[];r.forEach((e,t)=>{if(!r[t+1])return;const n=r[t+1];if(0===t||1===t||2===t){const r=2===t?50:-50,s={x:(e.x+n.x)/2,y:(e.y+n.y)/2+r},u=`M ${e.x} ${e.y} Q ${s.x} ${s.y} ${n.x} ${n.y}`;return void c.push(u)}const s=e.x,u=e.y+250,l=n.x,i=n.y-250,a=`M ${e.x} ${e.y} C ${s} ${u}, ${l} ${i}, ${n.x} ${n.y}`;c.push(a)}),i(c)}return t.useEffect(()=>{const e=()=>{d.current||(d.current=!0,null!==f.current&&cancelIdleCallback(f.current),f.current=requestIdleCallback(()=>{c(),o(e=>e+1),d.current=!1}))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),null!==f.current&&cancelIdleCallback(f.current)}},[c]),t.useEffect(()=>{null!==r&&x()},[r]),t.useEffect(()=>{x()},[r,a,250]),{paths:l}}(s);return n.jsx("div",{className:r,children:n.jsx("svg",{className:c,"aria-hidden":"true",ref:s,children:u.map((e,t)=>n.jsx("path",{d:e},t))})})}export{s as default};
